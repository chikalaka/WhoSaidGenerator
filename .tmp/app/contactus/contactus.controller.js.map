{"version":3,"sources":["../../../client/app/contactus/contactus.controller.js"],"names":[],"mappings":"AAAA;;AAEA,QAAQ,MAAR,CAAe,YAAf,EAEK,UAFL,CAEgB,qBAFhB,EAEuC,UAAU,MAAV,EAAkB,KAAlB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC;AACxE,WAAO,MAAP,GAAgB,YAAhB;AACA,WAAO,OAAP,GAAiB,KAAK,OAAtB;AACA,WAAO,WAAP,GAAqB,KAAK,cAA1B;;AAEA,WAAO,KAAP,GAAe,KAAK,KAAL,EAAf,C;;AAEA,UAAM,GAAN,CAAU,gBAAV,EACK,OADL,CACa,UAAS,IAAT,EAAe;AACxB,eAAO,SAAP,GAAmB,IAAnB;AACH,KAHD,EAIK,KAJL,CAIW,UAAS,GAAT,EAAc;AACrB,cAAM,6BAAN;AACH,KAND;;AAQA,WAAO,WAAP,GAAqB,EAArB;;AAEA,WAAO,WAAP,CAAmB,MAAnB,GAA4B,KAAK,cAAL,GAAsB,GAAlD;;AAEA,WAAO,MAAP,GAAgB,UAAS,KAAT,EAAe;AAC7B,cAAM,MAAN,CAAa,oBAAoB,OAAO,SAAP,CAAiB,KAAjB,EAAwB,GAAzD,EACC,OADD,CACS,YAAU;AACjB,mBAAO,SAAP,CAAiB,MAAjB,CAAwB,KAAxB,EAA+B,CAA/B;AACD,SAHD,EAIC,KAJD,CAIO,UAAS,GAAT,EAAa;AAClB,kBAAM,6BAAN;AACD,SAND;AAOD,KARD;;AAUA,WAAO,YAAP,GAAsB,YAAW;;AAE7B,cAAM,IAAN,CAAW,gBAAX,EAA6B,OAAO,WAApC,EACK,OADL,CACa,YAAU;AACnB,mBAAO,SAAP,CAAiB,IAAjB,CAAsB,OAAO,WAA7B;AACA,mBAAO,WAAP,GAAqB,EAArB;AACA,mBAAO,YAAP,CAAoB,YAApB;AACH,SALD,EAMK,KANL,CAMW,UAAS,GAAT,EAAa;AACpB,kBAAM,6BAAN;AACH,SARD;AASH,KAXD;AAaH,CA5CD","file":"contactus.controller.js","sourcesContent":["'use strict';\r\n\r\nangular.module('whoSaidApp')\r\n\r\n    .controller('ContactusController', function ($scope, $http, Auth, User) {\r\n    $scope.header = 'Contact Us';\r\n    $scope.isAdmin = Auth.isAdmin;\r\n    $scope.currentUser = Auth.getCurrentUser;\r\n    \r\n    $scope.users = User.query(); // NO need, delete when done, restric only to admin\r\n\r\n    $http.get('/api/feedbacks')\r\n        .success(function(data) {\r\n        $scope.feedbacks = data;\r\n    })\r\n        .error(function(err) {\r\n        alert('Error! Something went wrong');\r\n    });\r\n\r\n    $scope.newFeedback = {};\r\n    \r\n    $scope.newFeedback.author = Auth.getCurrentUser()._id;\r\n    \r\n    $scope.delete = function(index){\r\n      $http.delete('/api/feedbacks/' + $scope.feedbacks[index]._id)\r\n      .success(function(){\r\n        $scope.feedbacks.splice(index, 1);\r\n      })\r\n      .error(function(err){\r\n        alert('Error! Something went wrong');\r\n      });\r\n    };\r\n    \r\n    $scope.sendFeedback = function() {\r\n\r\n        $http.post('/api/feedbacks', $scope.newFeedback)\r\n            .success(function(){\r\n            $scope.feedbacks.push($scope.newFeedback);\r\n            $scope.newFeedback = {};\r\n            $scope.feedbackForm.$setPristine();\r\n        })\r\n            .error(function(err){\r\n            alert('Error! Something went wrong');\r\n        });\r\n    };\r\n    \r\n});\r\n\r\n"]}
{"version":3,"sources":["../../../../client/app/account/login/login.controller.js"],"names":[],"mappings":"AAAA;;;;;;IAEM,e;AACJ,2BAAY,IAAZ,EAAkB,MAAlB,EAA0B;AAAA;;AACxB,SAAK,IAAL,GAAY,EAAZ;AACA,SAAK,MAAL,GAAc,EAAd;AACA,SAAK,SAAL,GAAiB,KAAjB;;AAEA,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,MAAL,GAAc,MAAd;AACD;;;;0BAEK,I,EAAM;AAAA;;AACV,WAAK,SAAL,GAAiB,IAAjB;;AAEA,UAAI,KAAK,MAAT,EAAiB;AACf,aAAK,IAAL,CAAU,KAAV,CAAgB;AACZ,iBAAO,KAAK,IAAL,CAAU,KADL;AAEZ,oBAAU,KAAK,IAAL,CAAU;AAFR,SAAhB,EAIG,IAJH,CAIQ,YAAM;;AAEV,gBAAK,MAAL,CAAY,EAAZ,CAAe,MAAf;AACD,SAPH,EAQG,KARH,CAQS,eAAO;AACZ,gBAAK,MAAL,CAAY,KAAZ,GAAoB,IAAI,OAAxB;AACD,SAVH;AAWD;AACF;;;;;;AAGH,QAAQ,MAAR,CAAe,YAAf,EACG,UADH,CACc,iBADd,EACiC,eADjC","file":"login.controller.js","sourcesContent":["'use strict';\r\n\r\nclass LoginController {\r\n  constructor(Auth, $state) {\r\n    this.user = {};\r\n    this.errors = {};\r\n    this.submitted = false;\r\n\r\n    this.Auth = Auth;\r\n    this.$state = $state;\r\n  }\r\n\r\n  login(form) {\r\n    this.submitted = true;\r\n\r\n    if (form.$valid) {\r\n      this.Auth.login({\r\n          email: this.user.email,\r\n          password: this.user.password\r\n        })\r\n        .then(() => {\r\n          // Logged in, redirect to home = game\r\n          this.$state.go('game');\r\n        })\r\n        .catch(err => {\r\n          this.errors.other = err.message;\r\n        });\r\n    }\r\n  }\r\n}\r\n\r\nangular.module('whoSaidApp')\r\n  .controller('LoginController', LoginController);\r\n"]}
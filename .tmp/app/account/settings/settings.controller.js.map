{"version":3,"sources":["../../../../client/app/account/settings/settings.controller.js"],"names":[],"mappings":"AAAA;;;;;;IAEM,kB;AAEJ,8BAAY,IAAZ,EAAkB;AAAA;;AAChB,SAAK,IAAL,GAAY,IAAZ;AACD;;;;mCAEc,I,EAAM;AAAA;;AACnB,WAAK,SAAL,GAAiB,IAAjB;;AAEA,UAAI,KAAK,MAAT,EAAiB;AACf,aAAK,IAAL,CAAU,cAAV,CAAyB,KAAK,IAAL,CAAU,WAAnC,EAAgD,KAAK,IAAL,CAAU,WAA1D,EACG,IADH,CACQ,YAAM;AACV,gBAAK,OAAL,GAAe,gCAAf;AACD,SAHH,EAIG,KAJH,CAIS,YAAM;AACX,eAAK,QAAL,CAAc,YAAd,CAA2B,UAA3B,EAAuC,KAAvC;AACA,gBAAK,MAAL,CAAY,KAAZ,GAAoB,oBAApB;AACA,gBAAK,OAAL,GAAe,EAAf;AACD,SARH;AASD;AACF;;;;;;AAGH,QAAQ,MAAR,CAAe,YAAf,EACG,UADH,CACc,oBADd,EACoC,kBADpC","file":"settings.controller.js","sourcesContent":["'use strict';\r\n\r\nclass SettingsController {\r\n\r\n  constructor(Auth) {\r\n    this.Auth = Auth;\r\n  }\r\n\r\n  changePassword(form) {\r\n    this.submitted = true;\r\n\r\n    if (form.$valid) {\r\n      this.Auth.changePassword(this.user.oldPassword, this.user.newPassword)\r\n        .then(() => {\r\n          this.message = 'Password successfully changed.';\r\n        })\r\n        .catch(() => {\r\n          form.password.$setValidity('mongoose', false);\r\n          this.errors.other = 'Incorrect password';\r\n          this.message = '';\r\n        });\r\n    }\r\n  }\r\n}\r\n\r\nangular.module('whoSaidApp')\r\n  .controller('SettingsController', SettingsController);\r\n"]}
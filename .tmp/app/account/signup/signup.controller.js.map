{"version":3,"sources":["../../../../client/app/account/signup/signup.controller.js"],"names":[],"mappings":"AAAA;;;;;;IAEM,gB;;;AAGJ,4BAAY,IAAZ,EAAkB,MAAlB,EAA0B;AAAA;;AACtB,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,MAAL,GAAc,MAAd;AACA,SAAK,IAAL,GAAY,EAAZ;AACA,SAAK,IAAL,CAAU,MAAV,GAAmB,MAAnB;AACD;;;;;6BAIM,I,EAAM;AAAA;;AACb,WAAK,SAAL,GAAiB,IAAjB;;AAEA,UAAI,KAAK,MAAT,EAAiB;AACf,aAAK,IAAL,CAAU,UAAV,CAAqB;AACjB,gBAAM,KAAK,IAAL,CAAU,IADC;AAEjB,kBAAQ,KAAK,IAAL,CAAU,MAFD;AAGjB,iBAAO,KAAK,IAAL,CAAU,KAHA;AAIjB,oBAAU,KAAK,IAAL,CAAU;AAJH,SAArB,EAMG,IANH,CAMQ,YAAM;;AAEV,gBAAK,MAAL,CAAY,EAAZ,CAAe,MAAf;AACD,SATH,EAUG,KAVH,CAUS,eAAO;AACZ,gBAAM,IAAI,IAAV;AACA,gBAAK,MAAL,GAAc,EAAd;;;AAGA,kBAAQ,OAAR,CAAgB,IAAI,MAApB,EAA4B,UAAC,KAAD,EAAQ,KAAR,EAAkB;AAC5C,iBAAK,KAAL,EAAY,YAAZ,CAAyB,UAAzB,EAAqC,KAArC;AACA,kBAAK,MAAL,CAAY,KAAZ,IAAqB,MAAM,OAA3B;AACD,WAHD;AAID,SAnBH;AAoBD;AACF;;;;;;AAGH,QAAQ,MAAR,CAAe,YAAf,EACG,UADH,CACc,kBADd,EACkC,gBADlC","file":"signup.controller.js","sourcesContent":["'use strict';\r\n\r\nclass SignupController {\r\n  //end-non-standard\r\n\r\n  constructor(Auth, $state) {\r\n      this.Auth = Auth;\r\n      this.$state = $state;\r\n      this.user = {}\r\n      this.user.gender = 'true';\r\n    }\r\n    //start-non-standard\r\n\r\n\r\n  register(form) {\r\n    this.submitted = true;\r\n\r\n    if (form.$valid) {\r\n      this.Auth.createUser({\r\n          name: this.user.name,\r\n          gender: this.user.gender,\r\n          email: this.user.email,\r\n          password: this.user.password\r\n        })\r\n        .then(() => {\r\n          // Account created, redirect to home = game\r\n          this.$state.go('game');\r\n        })\r\n        .catch(err => {\r\n          err = err.data;\r\n          this.errors = {};\r\n\r\n          // Update validity of form fields that match the mongoose errors\r\n          angular.forEach(err.errors, (error, field) => {\r\n            form[field].$setValidity('mongoose', false);\r\n            this.errors[field] = error.message;\r\n          });\r\n        });\r\n    }\r\n  }\r\n}\r\n\r\nangular.module('whoSaidApp')\r\n  .controller('SignupController', SignupController);\r\n"]}